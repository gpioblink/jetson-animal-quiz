{"remainingRequest":"/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/src/components/HelloWorld.vue","mtime":1567095794073},{"path":"/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gpioblink/myslicon/animal-judge-webui/animal-judge-webui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport mqtt from 'mqtt';\nimport { Howl } from 'howler';\nimport { isContext } from 'vm';\nexport default {\n  data: () => ({\n    judgeSrc: {\n      right: require('../assets/mark_maru.png'),\n      wrong: require('../assets/mark_batsu.png'),\n      none: require('../assets/mark_none.png')\n    },\n    problems: {\n      cat: {\n        sentence: 'Be careful with this type of pet\\nAs some may scratch you with their claws\\nSome of them always stay inside\\nWhile some like to roam outdoors',\n        sound: require('../assets/sound/cat.mp3')\n      },\n      /*fox: {\n        sentence: 'I have three heads. Cut off one, I become stronger. Cut off two, I become ten. What am I?',\n        sound: require('../assets/sound/fox.mp3')\n      },*/\n      chicken: {\n        sentence: 'You might be called this animal\\nIf someone thinks that you’re afraid\\nThis is something that you might eat\\nAs well as its eggs that it laid',\n        sound: require('../assets/sound/chicken.mp3')\n      },\n      cow: {\n        sentence: 'They live in a field\\nMilk is what they make\\nThey help give us leather\\nAnd a juicy steak',\n        sound: require('../assets/sound/cow.wav')\n      },\n      pig: {\n        sentence: 'This is a type of animal\\nWhich has a curly tail\\nA female is called a sow\\nAnd a boar is the male',\n        sound: require('../assets/sound/pig.wav')\n      }\n    },\n    audio: {\n      tempo: null,\n      beat: null\n    },\n    isJuding: false,\n    selectedQuiz: \"cat\",\n    isCorrect: false\n  }),\n  mounted: function() {\n    const client = mqtt.connect('ws://192.168.55.1:9090');\n    this.selectedQuiz = '';\n    const keys = Object.keys(this.problems);\n    this.selectedQuiz = keys[Math.floor(Math.random() * keys.length)];\n    client.publish('orz', 'hello!');\n    client.on('connect', function(){\n        console.log('subscriber.connected.');\n    });\n\n    client.subscribe('orz', function(err, granted){\n        console.log('subscriber.subscribed.');\n    });\n    client.on('message', (topic, message) => {\n      if(this.isJuding == false) {\n        this.isCorrect = (this.selectedQuiz == message.toString())? true: false;\n        this.isJuding = true;\n        console.log('subscriber.on.message', 'topic:', topic, 'message:', message.toString());\n        console.log(this.selectedQuiz, message.toString() , this.selectedQuiz == message.toString(), this.isCorrect);\n        if(!(message.toString() in keys)){\n          const soundOption = {\n              src: [this.problems[message.toString()].sound],\n              autoplay: true,\n              loop: false,\n              volume: 0.5,\n              onend: () => { // 再生完了時のendイベント\n                this.isJuding = false;\n                if(this.isCorrect) this.selectedQuiz = keys[Math.floor(Math.random() * keys.length)];\n              }\n          }\n          const sound = new Howl(soundOption);\n        }\n      }\n    });\n}\n};\n",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-layout\n      wrap\n    >\n      <v-row>\n        <v-flex xs12>\n          <v-card>\n            <v-card-title>\n              Question\n            </v-card-title>\n            <v-card-text>\n            <v-container>\n              <v-row xs8 justify='center'>\n                <v-col xs8 md8>\n                <v-alert\n                  outlined\n                  color=\"black\"\n                  style=\"white-space:pre-wrap\"\n                >\n                  <div class=\"title\">Riddle</div>\n                  <div>{{problems[selectedQuiz].sentence}}</div>\n                </v-alert>\n                </v-col>\n              </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-layout justify-center>\n                <v-btn v-if=\"!isJuding\" text icon>Please Show me animal...</v-btn>\n              </v-layout>\n            </v-card-actions>\n            <v-layout justify-center>\n            <v-flex xs4>\n              <v-img v-if=\"isJuding && isCorrect\" :src=\"judgeSrc.right\"></v-img>\n              <v-img v-if=\"isJuding && !(isCorrect)\" :src=\"judgeSrc.wrong\"></v-img>\n              <v-img v-if=\"!isJuding\" :src=\"judgeSrc.none\"></v-img>\n            </v-flex>\n            </v-layout>\n          </v-card>\n        </v-flex>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport mqtt from 'mqtt';\nimport { Howl } from 'howler';\nimport { isContext } from 'vm';\nexport default {\n  data: () => ({\n    judgeSrc: {\n      right: require('../assets/mark_maru.png'),\n      wrong: require('../assets/mark_batsu.png'),\n      none: require('../assets/mark_none.png')\n    },\n    problems: {\n      cat: {\n        sentence: 'Be careful with this type of pet\\nAs some may scratch you with their claws\\nSome of them always stay inside\\nWhile some like to roam outdoors',\n        sound: require('../assets/sound/cat.mp3')\n      },\n      /*fox: {\n        sentence: 'I have three heads. Cut off one, I become stronger. Cut off two, I become ten. What am I?',\n        sound: require('../assets/sound/fox.mp3')\n      },*/\n      chicken: {\n        sentence: 'You might be called this animal\\nIf someone thinks that you’re afraid\\nThis is something that you might eat\\nAs well as its eggs that it laid',\n        sound: require('../assets/sound/chicken.mp3')\n      },\n      cow: {\n        sentence: 'They live in a field\\nMilk is what they make\\nThey help give us leather\\nAnd a juicy steak',\n        sound: require('../assets/sound/cow.wav')\n      },\n      pig: {\n        sentence: 'This is a type of animal\\nWhich has a curly tail\\nA female is called a sow\\nAnd a boar is the male',\n        sound: require('../assets/sound/pig.wav')\n      }\n    },\n    audio: {\n      tempo: null,\n      beat: null\n    },\n    isJuding: false,\n    selectedQuiz: \"cat\",\n    isCorrect: false\n  }),\n  mounted: function() {\n    const client = mqtt.connect('ws://192.168.55.1:9090');\n    this.selectedQuiz = '';\n    const keys = Object.keys(this.problems);\n    this.selectedQuiz = keys[Math.floor(Math.random() * keys.length)];\n    client.publish('orz', 'hello!');\n    client.on('connect', function(){\n        console.log('subscriber.connected.');\n    });\n\n    client.subscribe('orz', function(err, granted){\n        console.log('subscriber.subscribed.');\n    });\n    client.on('message', (topic, message) => {\n      if(this.isJuding == false) {\n        this.isCorrect = (this.selectedQuiz == message.toString())? true: false;\n        this.isJuding = true;\n        console.log('subscriber.on.message', 'topic:', topic, 'message:', message.toString());\n        console.log(this.selectedQuiz, message.toString() , this.selectedQuiz == message.toString(), this.isCorrect);\n        if(!(message.toString() in keys)){\n          const soundOption = {\n              src: [this.problems[message.toString()].sound],\n              autoplay: true,\n              loop: false,\n              volume: 0.5,\n              onend: () => { // 再生完了時のendイベント\n                this.isJuding = false;\n                if(this.isCorrect) this.selectedQuiz = keys[Math.floor(Math.random() * keys.length)];\n              }\n          }\n          const sound = new Howl(soundOption);\n        }\n      }\n    });\n}\n};\n</script>"]}]}